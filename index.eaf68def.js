var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},a={},n=t.parcelRequired7c6;null==n&&((n=function(t){if(t in e)return e[t].exports;if(t in a){var n=a[t];delete a[t];var d={id:t,exports:{}};return e[t]=d,n.call(d.exports,d,d.exports),d.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){a[t]=e},t.parcelRequired7c6=n);var d=n("hGVxz"),s=n("b08YZ"),i=n("dx1nB");const l="watched",o="queue",c=JSON.parse(localStorage.getItem(l))||[],r=JSON.parse(localStorage.getItem(o))||[],u=t=>{localStorage.setItem(l,JSON.stringify(t))},_=t=>{localStorage.setItem(o,JSON.stringify(t))},v=t=>{const e=c.find((e=>e.id===t.id));e?(c.splice(c.indexOf(e),1),u(c)):(c.push(t),u(c))},m=t=>{const e=r.find((e=>e.id===t.id));e?(r.splice(r.indexOf(e),1),_(r)):(r.push(t),_(r))};var p=n("fHyLY"),g=n("dlUZe");const y=(0,s.qs)(".Gallery"),f=(0,s.qs)(".movie-section__card"),E=(0,s.qs)("[data-modal]"),w=(0,s.qs)("[data-modal-close]"),b=(0,s.qs)(".mov"),h=()=>E.classList.toggle("is-hidden"),k=async t=>{try{const e=await(async t=>{(0,p.showHideLoader)(g.default.loader);const e=await d.default.get(`${i.BASE_URL}/movie/${t}?api_key=${i.API_KEY}&language=en-US`);return(0,p.showHideLoader)(g.default.loader),e.data})(t),a=e.title,n=e.vote_average.toFixed(1),l=e.vote_count,o=e.popularity.toFixed(1),u=e.original_title,_=e.genres.map((t=>t.name)).join(", "),y=e.overview,f=async()=>(await d.default.get(`${i.BASE_URL}/movie/${t}/videos?api_key=${i.API_KEY}&language=en-US`)).data.results[0].key,E=e.poster_path?`https://image.tmdb.org/t/p/${window.devicePixelRatio>1?"w780":"w500"}/${e.poster_path}`:e.title;b.innerHTML=` \n\t\t<div class="box modal__row">\n              <img class="modal__poster" src=${E} alt="plakat filmu" sizes="(min-width: 1200px) 370px" />\n\t          <div>\n\t\t          <div class="modal__tittle-film">${a}\n\t\t\t\t  </div>\n\t\t          <div class="modal__values">\n\t\t                 <ul class="modal__list">\n\t\t\t\t\t\t <li class="modal__details"> \n\t\t\t\t\t\t <div class="modal__list-left">Vote&nbsp/&nbspVotes</div>\n\t\t\t\t\t\t <div class="modal__list-right">\n\t\t\t\t\t\t            <span class="modal__vote-details">${n}</span>\n\t\t\t\t\t\t\t\t\t<span class="modal__list-left">/</span> \n\t\t\t\t\t\t\t\t\t<span class="modal__vote-summary">${l}</span>\n\t\t\t\t\t\t </div>\n\t\t\t\t\t\t </li> \n\t\t\t\t\t\t <li class="modal__details"> \n\t\t\t\t\t\t <div class="modal__list-left">Popularity</div>\n\t\t\t\t\t\t <div class="modal__list-right">${o}</div>\n\t\t\t\t\t\t </li> \n\t\t\t\t\t\t <li class="modal__details"> \n\t\t\t\t\t\t <div class="modal__list-left">Original&nbspTitle</div>\n\t\t\t\t\t\t <div class="modal__list-right">${u}</div>\n\t\t\t\t\t\t </li> \n\t\t\t\t\t\t <li class="modal__details"> \n\t\t\t\t\t\t <div class="modal__list-left">Genre</div>\n\t\t\t\t\t\t <div class="modal__list-right">${_}</div>\n\t\t\t\t\t\t </li> \n\t\t\t\t\t\t </ul>\n\t\t                 \n\t\t          </div>\n\t\t          <div class="modal__tittle-describe-tittle">About</div>\n\t\t             <p class="modal__tittle-describe">\n\t\t              ${y}\n\t\t                  </p>\n\t\t              <div class="modal__buttons">\n\t\t             <button class="modal__button-watched" id="watched">add to Watched</button>\n\t\t              <button class="modal__button-queue" id="queue">add to queue</button>\n\t\t\t\t\t  <button class="modal__button-trailer" id="zwiastun">zwiastun</button>\n\t\t\t\t\t  \n\t\t                </div>\n\t\t       </div>\n\t\t</div>`;const w=(0,s.qs)("#watched"),h=(0,s.qs)("#queue"),k=(0,s.qs)("#zwiastun"),D=document.querySelector("[data-mod]"),L=document.querySelector("[data-mod]"),x=document.querySelector("[data-mod-close]"),q=document.querySelector("iframe"),O=async()=>{const t=await f();q.src=`https://www.youtube.com/embed/${t}`,q.addEventListener("load",(()=>{D.style.display="block"}))};k.addEventListener("click",O),x.addEventListener("click",(t=>{t.preventDefault(),D.style.display="none"}));const T=t=>{t.target===L&&(D.style.display="none")};L.addEventListener("click",T);const $=t=>{"Escape"!==t.key&&27!==t.keyCode||(D.style.display="none")};window.addEventListener("keydown",$),c.find((t=>t.id===e.id))?(w.style.background="green",w.textContent="DELETED FROM WATCHED"):(w.style.background="#ff6b01",w.textContent="ADD TO WATCHED"),r.find((t=>t.id===e.id))?(h.style.background="#545454",h.textContent="DELETED FROM QUEUE"):(h.style.background="white",h.textContent="ADD TO QUEUE"),w.addEventListener("click",(t=>{c.find((t=>t.id===e.id))?(w.style.background="#ff6b01",w.textContent="ADD TO WATCHED"):(w.style.background="green",w.textContent="DELETED FROM WATCHED"),v(e)})),h.addEventListener("click",(t=>{r.find((t=>t.id===e.id))?(h.style.background="white",h.textContent="ADD TO QUEUE"):(h.style.background="#545454",h.textContent="DELETED FROM QUEUE"),m(e)}))}catch(t){console.log(t.message)}};w.addEventListener("click",(t=>{t.preventDefault(),h()}));E.addEventListener("click",(t=>{t.target===E&&h()}));window.addEventListener("keydown",(t=>{"Escape"!==t.key&&27!==t.keyCode||h()})),y.addEventListener("click",(async t=>{const e=t.target.closest(".MovieCard");if(e)try{const t=e.dataset.movie;await k(t),h()}catch(t){console.log(t)}})),f.addEventListener("click",(async t=>{const e=t.target.closest(".movie-container__card");if(e)try{const t=e.dataset.id;await k(t),h()}catch(t){console.log(t)}}));
//# sourceMappingURL=index.eaf68def.js.map
