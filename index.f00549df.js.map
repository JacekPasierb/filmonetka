{"mappings":"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","sources":["src/js/API_variables.js","src/js/loader.js","src/js/refs.js","src/js/genres.js","src/js/PaginationRatunek.js"],"sourcesContent":["const API_KEY = \"bd1f74544935b756e43565ea50ae79a5\";\nconst BASE_URL = \"https://api.themoviedb.org/3\";\nconst TREND_URL = `${BASE_URL}/trending/movie/week?api_key=${API_KEY}`;\nconst TREND_DAY_URL = `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`;\nconst SEARCH_URL = `${BASE_URL}/search/movie?api_key=${API_KEY}`;\nconst ID_URL = `${BASE_URL}/movie/`;\nconst BASE_IMG_URL = \"https://image.tmdb.org/t/p/w500\";\nconst VIDEO_URL = `/videos?api_key=${API_KEY}&language=en-US`;\n\nexport {\n\tAPI_KEY,\n\tBASE_URL,\n\tTREND_URL,\n\tSEARCH_URL,\n\tID_URL,\n\tBASE_IMG_URL,\n\tVIDEO_URL,\n\tTREND_DAY_URL,\n};\n","export const showHideLoader = (element) =>{\n  if (element.style.display === 'block') {\n    element.style.display = 'none';\n  } else {\n    element.style.display = 'block';\n  }\n}\n","const refs = {\n  loader: document.querySelector('.loader'),\n  loaderModal: document.querySelector('.modal__loader'),\n};\nexport default refs;\n","//----Lista kategori zrobiona na sztywno aby sprawdzić działanie, ale trzeba będzie podpiąć skrypt pobierający to z API\n\nconst movieGenres = [\n\t{\n\t\tid: 28,\n\t\tname: \"Action\",\n\t},\n\t{\n\t\tid: 12,\n\t\tname: \"Adventure\",\n\t},\n\t{\n\t\tid: 16,\n\t\tname: \"Animation\",\n\t},\n\t{\n\t\tid: 35,\n\t\tname: \"Comedy\",\n\t},\n\t{\n\t\tid: 80,\n\t\tname: \"Crime\",\n\t},\n\t{\n\t\tid: 99,\n\t\tname: \"Documentary\",\n\t},\n\t{\n\t\tid: 18,\n\t\tname: \"Drama\",\n\t},\n\t{\n\t\tid: 10751,\n\t\tname: \"Family\",\n\t},\n\t{\n\t\tid: 14,\n\t\tname: \"Fantasy\",\n\t},\n\t{\n\t\tid: 36,\n\t\tname: \"History\",\n\t},\n\t{\n\t\tid: 27,\n\t\tname: \"Horror\",\n\t},\n\t{\n\t\tid: 10402,\n\t\tname: \"Music\",\n\t},\n\t{\n\t\tid: 9648,\n\t\tname: \"Mystery\",\n\t},\n\t{\n\t\tid: 10749,\n\t\tname: \"Romance\",\n\t},\n\t{\n\t\tid: 878,\n\t\tname: \"Science Fiction\",\n\t},\n\t{\n\t\tid: 10770,\n\t\tname: \"TV Movie\",\n\t},\n\t{\n\t\tid: 53,\n\t\tname: \"Thriller\",\n\t},\n\t{\n\t\tid: 10752,\n\t\tname: \"War\",\n\t},\n\t{\n\t\tid: 37,\n\t\tname: \"Western\",\n\t},\n];\n\nconst Genres = { movieGenres };\nexport default Genres;\n","import Genres from './genres.js';\nimport { API_KEY, BASE_URL, TREND_URL } from './API_variables.js';\nimport { showHideLoader } from './loader';\nimport refs from './refs';\n\n\n\nconst prev = document.getElementById('prev');\nconst next = document.getElementById('next');\nconst current = document.getElementById('current');\nconst prv = document.getElementById('prv');\nconst prvprv = document.getElementById('prvprv');\nconst nxt = document.getElementById('nxt');\nconst nxtnxt = document.getElementById('nxtnxt');\n\nlet currentPage = 1;\nlet nextPage = 2;\nlet nxtPage = 2;\nlet nxtnxtPage = 3;\nlet prvPage = 1;\nlet prvprvPage = 1;\nlet prevPage = 1;\nlet lastUrl = '';\nlet totalPages = 100;\n\nconst moviesGallery = document.querySelector('.movie-section__card');\nconst getTrendMovies = (url) => {\n\tlastUrl = url;\n\tshowHideLoader(refs.loader);\n\tfetch(url)\n\t\t.then((res) => res.json())\n\n\t\t.then((data) => {\n\t\t\tshowHideLoader(refs.loader);\n\t\t\tif (data.results.length !== 0) {\n\t\t\t\trenderMovies(data.results);\n\t\t\t\tcurrentPage = data.page;\n\t\t\t\tnextPage = currentPage + 1;\n\t\t\t\tnxtPage = currentPage + 1;\n\t\t\t\tnxtnxtPage = currentPage + 2;\n\t\t\t\tprevPage = currentPage - 1;\n\t\t\t\tprvPage = currentPage - 1;\n\t\t\t\tprvprvPage = currentPage - 2;\n\t\t\t\ttotalPages = data.total_pages;\n\n\t\t\t\tcurrent.innerText = currentPage;\n\t\t\t\tnxt.innerText = nxtPage;\n\t\t\t\tnxtnxt.innerText = nxtnxtPage;\n\t\t\t\tprv.innerText = prvPage;\n\t\t\t\tprvprv.innerText = prvprvPage;\n\n\t\t\t\tif (currentPage <= 2) {\n\t\t\t\t\tprvprv.style.display = \"none\";\n\t\t\t\t\tprvprv.innerText = 1;\n\t\t\t\t} else {\n\t\t\t\t\tprvprv.style.display = \"flex\";\n\t\t\t\t}\n\t\t\t\tif (currentPage + 1 >= totalPages) {\n\t\t\t\t\tnxtnxt.style.display = \"none\";\n\t\t\t\t\tnxtnxt.innerText = totalPages;\n\t\t\t\t} else {\n\t\t\t\t\tnxtnxt.style.display = \"flex\";\n\t\t\t\t}\n\n\t\t\t\tif (currentPage <= 1) {\n\t\t\t\t\tprev.classList.add(\"disabled\");\n\t\t\t\t\tnext.classList.remove(\"disabled\");\n\t\t\t\t\tprv.style.display = \"none\";\n\t\t\t\t\tprv.innerText = 1;\n\t\t\t\t} else if (currentPage >= totalPages) {\n\t\t\t\t\tprev.classList.remove(\"disabled\");\n\t\t\t\t\tnext.classList.add(\"disabled\");\n\t\t\t\t\tnxt.style.display = \"none\";\n\t\t\t\t} else {\n\t\t\t\t\tprev.classList.remove(\"disabled\");\n\t\t\t\t\tnext.classList.remove(\"disabled\");\n\t\t\t\t\tprv.style.display = \"flex\";\n\t\t\t\t\tnxt.style.display = \"flex\";\n\t\t\t\t}\n\t\t\t}\n\t\t});\n};\ngetTrendMovies(TREND_URL);\n\n\n\nconst renderMovies = (data) => {\n  moviesGallery.innerHTML = '';\n\n  data.forEach(markup => {\n    const { title, name, release_date, first_air_date, poster_path, genre_ids } = markup;\n    const moviePoster = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n    const movieDate = release_date ? release_date.slice(0, 4) : first_air_date;\n    const movieName = title ? title : name;\n    let matchedGenres = genre_ids\n      .map(id => {\n        const genre = Genres.movieGenres.find(genre => genre.id === id);\n        return genre ? [`${genre.name}`] : '';\n      })\n      .filter(Boolean);\n\n    // Wyświetlane są gatunki filmowe\n    if (matchedGenres.length > 2) {\n      matchedGenres = matchedGenres.slice(0, 3).join(', ');\n    } else {\n      matchedGenres = matchedGenres.join(', ');\n    }\n    const markupEl = document.createElement('li');\n    markupEl.classList.add('movie-container__card');\n\n    markupEl.setAttribute('data-id', `${markup.id}`);\n    markupEl.innerHTML = `\n\n    <div class=\"poster\"><img class=\"poster__img\" src=\"${moviePoster}\" alt=\"${title} poster\" loading=\"lazy\" /></div>\n    <div class=\"movieInfo\">\n       <p class=\"movieInfo__item movieInfo--title\">${movieName}</p>\n       <p class=\"movieInfo__item\">\n             ${matchedGenres} | ${movieDate}\n      </p>\n    </div>\n    `;\n    moviesGallery.appendChild(markupEl);\n  });\n}\n\nprev.addEventListener('click', () => {\n  if (prevPage > 0) {\n    pageCall(prevPage);\n  }\n});\nprv.addEventListener('click', () => {\n  if (prvPage > 0) {\n    pageCall(prvPage);\n  }\n});\nprvprv.addEventListener('click', () => {\n  if (prvprvPage > 0) {\n    pageCall(prvprvPage);\n  }\n});\n\nnext.addEventListener('click', () => {\n  if (nextPage <= totalPages) {\n    pageCall(nextPage);\n  }\n});\nnxt.addEventListener('click', () => {\n  if (nxtPage <= totalPages) {\n    pageCall(nxtPage);\n  }\n});\nnxtnxt.addEventListener('click', () => {\n  if (nxtnxtPage <= totalPages) {\n    pageCall(nxtnxtPage);\n  }\n});\n\nconst  pageCall = (page) =>{\n  let urlSplit = lastUrl.split('?');\n  // console.log(urlSplit);\n  let queryParams = urlSplit[1].split('&');\n\n  // console.log(queryParams);\n  let key = queryParams[queryParams.length - 1].split('=');\n  // console.log(key);\n  if (key[0] != 'page') {\n    let url = lastUrl + '&page=' + page;\n    getTrendMovies(url);\n  } else {\n    key[1] = page.toString();\n    let a = key.join('=');\n    queryParams[queryParams.length - 1] = a;\n    let b = queryParams.join('&');\n    let url = urlSplit[0] + '?' + b;\n    getTrendMovies(url);\n  }\n  document.body.scrollTop = document.documentElement.scrollTo({top: 0, behavior: 'smooth'})\n}\n"],"names":["$b2ce9de2c8fef601$export$a9861bd62f48e142","$b2ce9de2c8fef601$export$ca6dda5263526f75","$b2ce9de2c8fef601$export$3e13cfa1fb75582c","$b6e5d84fbce03de8$export$6bf32e92b0ea2607","element","style","display","$9b8970e36fb3ad46$export$2e2bcd8739ae039","loader","document","querySelector","loaderModal","$bc36aade2b53bb55$export$2e2bcd8739ae039","id","name","$55674e7c8180d6a6$var$prev","getElementById","$55674e7c8180d6a6$var$next","$55674e7c8180d6a6$var$current","$55674e7c8180d6a6$var$prv","$55674e7c8180d6a6$var$prvprv","$55674e7c8180d6a6$var$nxt","$55674e7c8180d6a6$var$nxtnxt","$55674e7c8180d6a6$var$currentPage","$55674e7c8180d6a6$var$nextPage","$55674e7c8180d6a6$var$nxtPage","$55674e7c8180d6a6$var$nxtnxtPage","$55674e7c8180d6a6$var$prvPage","$55674e7c8180d6a6$var$prvprvPage","$55674e7c8180d6a6$var$prevPage","$55674e7c8180d6a6$var$lastUrl","$55674e7c8180d6a6$var$totalPages","$55674e7c8180d6a6$var$moviesGallery","$55674e7c8180d6a6$var$getTrendMovies","url","fetch","then","res","json","data","results","length","$55674e7c8180d6a6$var$renderMovies","page","total_pages","innerText","classList","add","remove","$flMJi","TREND_URL","innerHTML","forEach","markup","title","release_date","first_air_date","poster_path","genre_ids","moviePoster","movieDate","slice","movieName","matchedGenres","map","genre","movieGenres","find","filter","Boolean","join","markupEl","createElement","setAttribute","appendChild","addEventListener","$55674e7c8180d6a6$var$pageCall","urlSplit","split","queryParams","key","toString","a","b","body","scrollTop","documentElement","scrollTo","top","behavior"],"version":3,"file":"index.f00549df.js.map"}