{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,0BAGA,MAAMC,EAAWC,EAAAC,QAAMC,GAAG,YACpBC,EAAeH,EAAAC,QAAMC,GAAG,wBAExBE,EAAQC,SAASC,cAAc,gBAC/BC,EAAgBF,SAASC,cAAc,sBACvCE,EAAMR,EAAAC,QAAMC,GAAG,QAErB,SAASO,IACRL,EAAMM,UAAUC,OAAO,YACxB,CACA,MASMC,EAAkBC,MAAOC,IAC9B,IACC,MAAMC,OAXWF,OAAOC,UACFjB,EAAAI,QAAMe,IAC5B,GAAGC,EAAAC,kBAAkBJ,aAAmBG,EAAAE,2BAGlBC,KAMFC,CAAWP,GAEzBQ,EAAYP,EAAMQ,MAClBC,EAAOT,EAAMU,aAAaC,QAAQ,GAClCC,EAAQZ,EAAMa,WACdC,EAAad,EAAMc,WAAWH,QAAQ,GACtCI,EAAgBf,EAAMgB,eACtBC,EAASjB,EAAMiB,OAAOC,KAAKC,GAAOA,EAAGC,OAAMC,KAAK,OAChDC,EAAWtB,EAAMsB,SAEjBC,EAAS,kCAAkCvB,EAAMwB,cACvD/B,EAAIgC,UAAY,0EAE6BF,+HAEDhB,srBAcoBE,6HAErBG,oFAEXE,6CACAC,8CACCE,2OAMjBK,uSAUjB,CAFE,MAAOI,GACRC,QAAQC,IAAIF,EAAMG,QACnB,GAGDrC,EAAcsC,iBAAiB,SAAUC,IACxCA,EAAEC,iBACFtC,GAAA,IAGDV,EAAS8C,iBAAiB,SAAUC,IACnC,MAAME,EAAYF,EAAEG,OAAOC,QAAQ,cAEnC,GAAIF,EAAW,CACd,MAAMlC,EAAUkC,EAAUG,QAAQpC,MAElCN,IAEAG,EAAgBE,EACjB,KAGDX,EAAa0C,iBAAiB,SAAUC,IACvC,MAAME,EAAYF,EAAEG,OAAOC,QAAQ,0BAEnC,GAAIF,EAAW,CACd,MAAMlC,EAAUkC,EAAUG,QAAQC,GAElC3C,IAEAG,EAAgBE,EACjB","sources":["src/js/modal.js"],"sourcesContent":["import axios from \"axios\";\nimport tools from \"./tools\";\nimport { BASE_URL, API_KEY } from \"./API_variables.js\";\nconst GALLERYs = tools.qs(\".Gallery\");\nconst GALLERYtrend = tools.qs(\".movie-section__card\");\n\nconst modal = document.querySelector(\"[data-modal]\");\nconst closeModalBtn = document.querySelector(\"[data-modal-close]\");\nconst mov = tools.qs(\".mov\");\n\nfunction toggleModal() {\n\tmodal.classList.toggle(\"is-hidden\");\n}\nconst fetchMovie = async (movieId) => {\n\tconst response = await axios.get(\n\t\t`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`,\n\t);\n\n\tconst movie = response.data;\n\n\treturn movie;\n};\nconst searchMovieById = async (movieId) => {\n\ttry {\n\t\tconst movie = await fetchMovie(movieId);\n\n\t\tconst movieName = movie.title;\n\t\tconst vote = movie.vote_average.toFixed(1);\n\t\tconst votes = movie.vote_count;\n\t\tconst popularity = movie.popularity.toFixed(1);\n\t\tconst originalTitle = movie.original_title;\n\t\tconst genres = movie.genres.map((ob) => ob.name).join(\" , \");\n\t\tconst overview = movie.overview;\n\n\t\tconst poster = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n\t\tmov.innerHTML = ` \n\t\t<div class=\"row\">\n              <img class=\"modal__poster\" src=${poster} alt=\"plakat filmu\" sizes=\"(min-width: 1200px) 370px\" />\n\t          <div>\n\t\t          <div class=\"modal__tittle-film\">${movieName}\n\t\t\t\t  </div>\n\t\t          <div class=\"modal__details\">\n\t\t                  <div class=\"modal__details-left\">\n\t\t                      <ul class=\"modal__list modal__list-left\">\n\t\t                           <li>Vote / Votes</li>\n\t\t                           <li>Popularity</li>\n\t\t                           <li>Original Title</li>\n\t\t                           <li>Genre</li>\n\t\t                     </ul>\n\t\t                 </div>\n\t\t                 <div class=\"modal__details-right\">\n\t\t                      <ul class=\"modal__list modal__list-right\">\n\t\t                           <li>\n\t\t                            <span class=\"modal__vote-details\">${vote}</span>\n\t\t\t\t\t\t\t\t\t<span class=\"modal__list-left\">/</span> \n\t\t\t\t\t\t\t\t\t<span class=\"modal__vote-summary\">${votes}</span>\n\t\t                          </li>\n\t\t                          <li>${popularity}</li>\n\t\t                          <li>${originalTitle}</li>\n\t\t                           <li>${genres}</li>\n\t\t                     </ul>\n\t\t                 </div>\n\t\t          </div>\n\t\t          <div class=\"modal__tittle-describe-tittle\">About</div>\n\t\t             <p class=\"modal__tittle-describe\">\n\t\t              ${overview}\n\t\t                  </p>\n\t\t              <div class=\"modal__buttons\">\n\t\t             <button class=\"modal__button-watched\">add to Watched</button>\n\t\t              <button class=\"modal__button-queue\">add to queue</button>\n\t\t                </div>\n\t\t       </div>\n\t\t</div>`;\n\t} catch (error) {\n\t\tconsole.log(error.message);\n\t}\n};\n\ncloseModalBtn.addEventListener(\"click\", (e) => {\n\te.preventDefault();\n\ttoggleModal();\n});\n\nGALLERYs.addEventListener(\"click\", (e) => {\n\tconst movieCard = e.target.closest(\".MovieCard\");\n\n\tif (movieCard) {\n\t\tconst movieId = movieCard.dataset.movie;\n\n\t\ttoggleModal();\n\n\t\tsearchMovieById(movieId);\n\t}\n});\n\nGALLERYtrend.addEventListener(\"click\", (e) => {\n\tconst movieCard = e.target.closest(\".movie-container__card\");\n\n\tif (movieCard) {\n\t\tconst movieId = movieCard.dataset.id;\n\n\t\ttoggleModal();\n\n\t\tsearchMovieById(movieId);\n\t}\n});\n"],"names":["$hGVxz","parcelRequire","$2ea800676e6f7669$var$GALLERYs","$b08YZ","default","qs","$2ea800676e6f7669$var$GALLERYtrend","$2ea800676e6f7669$var$modal","document","querySelector","$2ea800676e6f7669$var$closeModalBtn","$2ea800676e6f7669$var$mov","$2ea800676e6f7669$var$toggleModal","classList","toggle","$2ea800676e6f7669$var$searchMovieById","async","movieId","movie","get","$flMJi","BASE_URL","API_KEY","data","$2ea800676e6f7669$var$fetchMovie","movieName","title","vote","vote_average","toFixed","votes","vote_count","popularity","originalTitle","original_title","genres","map","ob","name","join","overview","poster","poster_path","innerHTML","error","console","log","message","addEventListener","e","preventDefault","movieCard","target","closest","dataset","id"],"version":3,"file":"index.725a54b6.js.map"}