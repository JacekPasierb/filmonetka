{"mappings":"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","sources":["src/js/modal.js","src/library/local-storage.js","src/library/addtowatchedqueue.js"],"sourcesContent":["import axios from \"axios\";\nimport { qs } from \"./tools\";\nimport { BASE_URL, API_KEY } from \"./API_variables.js\";\nimport { queue, watched } from \"../library/local-storage\";\nimport { onAddToWatched, onAddToQueue } from \"../library/addtowatchedqueue\";\nconst GALLERYs = qs(\".Gallery\");\nconst GALLERYtrend = qs(\".movie-section__card\");\n\nconst modal = qs(\"[data-modal]\");\nconst closeModalBtn = qs(\"[data-modal-close]\");\nconst mov = qs(\".mov\");\n\nconst toggleModal = () => modal.classList.toggle(\"is-hidden\");\n\nconst fetchMovie = async (movieId) => {\n\tconst response = await axios.get(\n\t\t`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`,\n\t);\n\n\tconst movie = response.data;\n\n\treturn movie;\n};\nconst searchMovieById = async (movieId) => {\n\ttry {\n\t\tconst movie = await fetchMovie(movieId);\n\n\t\tconst movieName = movie.title;\n\t\tconst vote = movie.vote_average.toFixed(1);\n\t\tconst votes = movie.vote_count;\n\t\tconst popularity = movie.popularity.toFixed(1);\n\t\tconst originalTitle = movie.original_title;\n\t\tconst genres = movie.genres.map((ob) => ob.name).join(\", \");\n\t\tconst overview = movie.overview;\n\n\t\tconst poster = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n\t\tmov.innerHTML = ` \n\t\t<div class=\"box modal__row\">\n              <img class=\"modal__poster\" src=${poster} alt=\"plakat filmu\" sizes=\"(min-width: 1200px) 370px\" />\n\t          <div>\n\t\t          <div class=\"modal__tittle-film\">${movieName}\n\t\t\t\t  </div>\n\t\t          <div class=\"modal__values\">\n\t\t                 <ul class=\"modal__list\">\n\t\t\t\t\t\t <li class=\"modal__details\"> \n\t\t\t\t\t\t <div class=\"modal__list-left\">Vote&nbsp/&nbspVotes</div>\n\t\t\t\t\t\t <div class=\"modal__list-right\">\n\t\t\t\t\t\t            <span class=\"modal__vote-details\">${vote}</span>\n\t\t\t\t\t\t\t\t\t<span class=\"modal__list-left\">/</span> \n\t\t\t\t\t\t\t\t\t<span class=\"modal__vote-summary\">${votes}</span>\n\t\t\t\t\t\t </div>\n\t\t\t\t\t\t </li> \n\t\t\t\t\t\t <li class=\"modal__details\"> \n\t\t\t\t\t\t <div class=\"modal__list-left\">Popularity</div>\n\t\t\t\t\t\t <div class=\"modal__list-right\">${popularity}</div>\n\t\t\t\t\t\t </li> \n\t\t\t\t\t\t <li class=\"modal__details\"> \n\t\t\t\t\t\t <div class=\"modal__list-left\">Original&nbspTitle</div>\n\t\t\t\t\t\t <div class=\"modal__list-right\">${originalTitle}</div>\n\t\t\t\t\t\t </li> \n\t\t\t\t\t\t <li class=\"modal__details\"> \n\t\t\t\t\t\t <div class=\"modal__list-left\">Genre</div>\n\t\t\t\t\t\t <div class=\"modal__list-right\">${genres}</div>\n\t\t\t\t\t\t </li> \n\t\t\t\t\t\t </ul>\n\t\t                 \n\t\t          </div>\n\t\t          <div class=\"modal__tittle-describe-tittle\">About</div>\n\t\t             <p class=\"modal__tittle-describe\">\n\t\t              ${overview}\n\t\t                  </p>\n\t\t              <div class=\"modal__buttons\">\n\t\t             <button class=\"modal__button-watched\" id=\"watched\">add to Watched</button>\n\t\t              <button class=\"modal__button-queue\" id=\"queue\">add to queue</button>\n\t\t                </div>\n\t\t       </div>\n\t\t</div>`;\n\t\tconst watchedButton = qs(\"#watched\");\n\t\tconst queueButton = qs(\"#queue\");\n\t\tif (watched.find((obj) => obj.id === movie.id)) {\n\t\t\twatchedButton.style.background = \"green\";\n\t\t\twatchedButton.textContent = \"DELETED FROM WATCHED\";\n\t\t\treturn;\n\t\t}\n\t\tif (queue.find((obj) => obj.id === movie.id)) {\n\t\t\tqueueButton.style.background = \"green\";\n\t\t\tqueueButton.textContent = \"DELETED FROM QUEUE\";\n\t\t\treturn;\n\t\t}\n\t\twatchedButton.addEventListener(\"click\", (e) => {\n\t\t\te.preventDefault();\n\t\t\twatchedButton.style.background = \"green\";\n\t\t\twatchedButton.textContent = \"DELETED FROM WATCHED\";\n\t\t\tonAddToWatched(movie, watchedButton);\n\t\t});\n\t\tqueueButton.addEventListener(\"click\", (e) => {\n\t\t\te.preventDefault();\n\t\t\tqueueButton.style.background = \"green\";\n\t\t\tqueueButton.textContent = \"DELETED FROM QUEUE\";\n\t\t\tonAddToQueue(movie, queueButton);\n\t\t});\n\t} catch (error) {\n\t\tconsole.log(error.message);\n\t}\n};\n\ncloseModalBtn.addEventListener(\"click\", (e) => {\n\te.preventDefault();\n\ttoggleModal();\n});\nconst closeByClick = (event) => {\n\tif (event.target === modal) {\n\t\ttoggleModal();\n\t}\n};\nmodal.addEventListener(\"click\", closeByClick);\n\nconst closeByPush = (event) => {\n\tif (event.key === \"Escape\" || event.keyCode === 27) {\n\t\ttoggleModal();\n\t}\n};\nwindow.addEventListener(\"keydown\", closeByPush);\nGALLERYs.addEventListener(\"click\", (e) => {\n\tconst movieCard = e.target.closest(\".MovieCard\");\n\n\tif (movieCard) {\n\t\tconst movieId = movieCard.dataset.movie;\n\n\t\ttoggleModal();\n\n\t\tsearchMovieById(movieId);\n\t}\n});\n\nGALLERYtrend.addEventListener(\"click\", (e) => {\n\tconst movieCard = e.target.closest(\".movie-container__card\");\n\n\tif (movieCard) {\n\t\tconst movieId = movieCard.dataset.id;\n\n\t\ttoggleModal();\n\n\t\tsearchMovieById(movieId);\n\t}\n});\n","const KEY_WATCHED = \"watched\";\nconst KEY_QUEUE = \"queue\";\n\nconst getWatchedLocalStorage = () => {\n\treturn JSON.parse(localStorage.getItem(KEY_WATCHED));\n}; // funkcja do ściągania fimów do kolejki local storage\n\nconst getQueueLocalStorage = () => {\n\treturn JSON.parse(localStorage.getItem(KEY_QUEUE));\n}; // funkcja do ściągania filmów obejrzanych z local storage\nconst watched = getWatchedLocalStorage() || [];\nconst queue = getQueueLocalStorage() || [];\nconst setWatchedLocalStorage = (arr) => {\n\tlocalStorage.setItem(KEY_WATCHED, JSON.stringify(arr));\n}; // funckja do wrzucania filmów do local storage - do obejrzanych\n\nconst setQueueLocalStorage = (arr) => {\n\tlocalStorage.setItem(KEY_QUEUE, JSON.stringify(arr));\n}; // funckja do wrzucania filmów do local storage - do kolejki\n\nexport {\n\tKEY_WATCHED,\n\tKEY_QUEUE,\n\twatched,\n\tqueue,\n\tgetWatchedLocalStorage,\n\tgetQueueLocalStorage,\n\tsetWatchedLocalStorage,\n\tsetQueueLocalStorage,\n};\n","import {\n\tqueue,\n\twatched,\n\tsetWatchedLocalStorage,\n\tsetQueueLocalStorage,\n} from \"./local-storage\";\n\nconst onAddToWatched = (movie, watchedButton) => {\n\tif (watched.find((obj) => obj.id === movie.id)) {\n\t\treturn;\n\t}\n\twatched.push(movie);\n\tsetWatchedLocalStorage(watched);\n};\n\nconst onAddToQueue = (movie, queueButton) => {\n\tif (queue.find((obj) => obj.id === movie.id)) {\n\t\treturn;\n\t}\n\tqueue.push(movie);\n\tsetQueueLocalStorage(queue);\n};\nexport { onAddToWatched, onAddToQueue };\n"],"names":["$hGVxz","parcelRequire","$204b435b9ec7ef51$export$bf348ba91bbfa858","$204b435b9ec7ef51$export$18da41cc526d0bf2","$204b435b9ec7ef51$export$e330b7faa493c08b","JSON","parse","localStorage","getItem","$204b435b9ec7ef51$export$4f7fa46ff53e516f","$bf8c668d77cc63f6$export$8365ca842e8c6100","movie","watchedButton","arr","find","obj","id","push","setItem","stringify","$bf8c668d77cc63f6$export$f1fef8fa31d6cdf5","queueButton","$2ea800676e6f7669$var$GALLERYs","$b08YZ","qs","$2ea800676e6f7669$var$GALLERYtrend","$2ea800676e6f7669$var$modal","$2ea800676e6f7669$var$closeModalBtn","$2ea800676e6f7669$var$mov","$2ea800676e6f7669$var$toggleModal","classList","toggle","$2ea800676e6f7669$var$searchMovieById","async","movieId","default","get","$flMJi","BASE_URL","API_KEY","data","$2ea800676e6f7669$var$fetchMovie","movieName","title","vote","vote_average","toFixed","votes","vote_count","popularity","originalTitle","original_title","genres","map","ob","name","join","overview","poster","poster_path","innerHTML","style","background","textContent","addEventListener","e","preventDefault","error","console","log","message","event","target","window","key","keyCode","movieCard","closest","dataset"],"version":3,"file":"index.077cc6ca.js.map"}