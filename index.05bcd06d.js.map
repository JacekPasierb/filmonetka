{"mappings":"uoBAAO,MAAMA,EAAkBC,IACA,UAA1BA,EAAQC,MAAMC,QACjBF,EAAQC,MAAMC,QAAU,OAExBF,EAAQC,MAAMC,QAAU,Q,qECJ1B,IAAAC,EAAAC,EAAA,S,IAMAC,EAJa,CACZC,QAAQ,EAAAH,EAAAI,IAAG,WACXC,aAAa,EAAAL,EAAAI,IAAG,kB,sICJjB,MAAME,EAAU,mCACVC,EAAW,+BACXC,EAAY,GAAGD,iCAAwCD,G,yCCgF7DG,EADe,C,YA/EK,CACnB,CACCC,GAAI,GACJC,KAAM,UAEP,CACCD,GAAI,GACJC,KAAM,aAEP,CACCD,GAAI,GACJC,KAAM,aAEP,CACCD,GAAI,GACJC,KAAM,UAEP,CACCD,GAAI,GACJC,KAAM,SAEP,CACCD,GAAI,GACJC,KAAM,eAEP,CACCD,GAAI,GACJC,KAAM,SAEP,CACCD,GAAI,MACJC,KAAM,UAEP,CACCD,GAAI,GACJC,KAAM,WAEP,CACCD,GAAI,GACJC,KAAM,WAEP,CACCD,GAAI,GACJC,KAAM,UAEP,CACCD,GAAI,MACJC,KAAM,SAEP,CACCD,GAAI,KACJC,KAAM,WAEP,CACCD,GAAI,MACJC,KAAM,WAEP,CACCD,GAAI,IACJC,KAAM,mBAEP,CACCD,GAAI,MACJC,KAAM,YAEP,CACCD,GAAI,GACJC,KAAM,YAEP,CACCD,GAAI,MACJC,KAAM,OAEP,CACCD,GAAI,GACJC,KAAM,a,oDCvER,MAAMC,EAAOC,SAASC,eAAe,QAC/BC,EAAOF,SAASC,eAAe,QAC/BE,EAAUH,SAASC,eAAe,WAClCG,EAAMJ,SAASC,eAAe,OAC9BI,EAASL,SAASC,eAAe,UACjCK,EAAMN,SAASC,eAAe,OAC9BM,EAASP,SAASC,eAAe,UAEvC,IAAIO,EAAc,EACdC,EAAW,EACXC,EAAU,EACVC,EAAa,EACbC,EAAU,EACVC,EAAa,EACbC,EAAW,EACXC,EAAU,GACVC,EAAa,IAEjB,MAAMC,GAAgB,EAAA9B,EAAAI,IAAG,wBACnB2B,EAAkBC,IACvBJ,EAAUI,GACV,EAAAC,EAAAC,gBAAeC,EAAAC,QAAKjC,QACpBkC,MAAML,GACJM,MAAMC,GAAQA,EAAIC,SAElBF,MAAMG,KACN,EAAAR,EAAAC,gBAAeC,EAAAC,QAAKjC,QACQ,IAAxBsC,EAAKC,QAAQC,SAChBC,EAAaH,EAAKC,SAClBrB,EAAcoB,EAAKI,KACnBvB,EAAWD,EAAc,EACzBE,EAAUF,EAAc,EACxBG,EAAaH,EAAc,EAC3BM,EAAWN,EAAc,EACzBI,EAAUJ,EAAc,EACxBK,EAAaL,EAAc,EAC3BQ,EAAaY,EAAKK,YAElB9B,EAAQ+B,UAAY1B,EACpBF,EAAI4B,UAAYxB,EAChBH,EAAO2B,UAAYvB,EACnBP,EAAI8B,UAAYtB,EAChBP,EAAO6B,UAAYrB,EAEfL,GAAe,GAClBH,EAAOpB,MAAMC,QAAU,OACvBmB,EAAO6B,UAAY,GAEnB7B,EAAOpB,MAAMC,QAAU,OAEpBsB,EAAc,GAAKQ,GACtBT,EAAOtB,MAAMC,QAAU,OACvBqB,EAAO2B,UAAYlB,GAEnBT,EAAOtB,MAAMC,QAAU,OAGpBsB,GAAe,GAClBT,EAAKoC,UAAUC,IAAI,YACnBlC,EAAKiC,UAAUE,OAAO,YACtBjC,EAAInB,MAAMC,QAAU,OACpBkB,EAAI8B,UAAY,GACN1B,GAAeQ,GACzBjB,EAAKoC,UAAUE,OAAO,YACtBnC,EAAKiC,UAAUC,IAAI,YACnB9B,EAAIrB,MAAMC,QAAU,SAEpBa,EAAKoC,UAAUE,OAAO,YACtBnC,EAAKiC,UAAUE,OAAO,YACtBjC,EAAInB,MAAMC,QAAU,OACpBoB,EAAIrB,MAAMC,QAAU,QAEtB,GACD,EAEFgC,EAAeoB,EAAAC,WAEf,MAAMR,EAAgBH,IACrBX,EAAcuB,UAAY,GAE1BZ,EAAKa,SAASC,IACb,MAAMC,MACLA,EAAK7C,KACLA,EAAI8C,aACJA,EAAYC,eACZA,EAAcC,YACdA,EAAWC,UACXA,GACGL,EACEM,EAAcF,EACjB,8BACAG,OAAOC,iBAAmB,EAAI,OAAS,UACnCJ,IACJH,EACGQ,EAAYP,EAAeA,EAAaQ,MAAM,EAAG,GAAKP,EACtDQ,EAAYV,GAAgB7C,EAClC,IAAIwD,EAAgBP,EAClBQ,KAAK1D,IACL,MAAM2D,EAAQ5D,EAAO6D,YAAYC,MAAMF,GAAUA,EAAM3D,KAAOA,IAC9D,OAAO2D,EAAQ,CAAC,GAAGA,EAAM1D,QAAU,EAAE,IAErC6D,OAAOC,SAIRN,EADGA,EAAcxB,OAAS,EACVwB,EAAcF,MAAM,EAAG,GAAGS,KAAK,MAE/BP,EAAcO,KAAK,MAEpC,MAAMC,EAAW9D,SAAS+D,cAAc,MACxCD,EAAS3B,UAAUC,IAAI,yBAEvB0B,EAASE,aAAa,UAAW,GAAGtB,EAAO7C,MAC3CiE,EAAStB,UAAY,6DAEiCQ,WAAqBL,sHAExBU,2DAEtCC,OAAmBH,kCAIhClC,EAAcgD,YAAYH,EAAA,GAC3B,EAGD/D,EAAKmE,iBAAiB,SAAS,KAC1BpD,EAAW,GACdqD,EAASrD,EAAA,IAGXV,EAAI8D,iBAAiB,SAAS,KACzBtD,EAAU,GACbuD,EAASvD,EAAA,IAGXP,EAAO6D,iBAAiB,SAAS,KAC5BrD,EAAa,GAChBsD,EAAStD,EAAA,IAIXX,EAAKgE,iBAAiB,SAAS,KAC1BzD,GAAYO,GACfmD,EAAS1D,EAAA,IAGXH,EAAI4D,iBAAiB,SAAS,KACzBxD,GAAWM,GACdmD,EAASzD,EAAA,IAGXH,EAAO2D,iBAAiB,SAAS,KAC5BvD,GAAcK,GACjBmD,EAASxD,EAAA,IAIX,MAAMwD,EAAYnC,IACjB,MAAMoC,EAAWrD,EAAQsD,MAAM,KAEzBC,EAAcF,EAAS,GAAGC,MAAM,KAEhCE,EAAMD,EAAYA,EAAYxC,OAAS,GAAGuC,MAAM,KAEtD,GAAe,SAAXE,EAAI,GAAe,CAEtBrD,EADYH,EAAU,SAAWiB,EAElC,KAAO,CACNuC,EAAI,GAAKvC,EAAKwC,WACd,MAAMC,EAAIF,EAAIV,KAAK,KACnBS,EAAYA,EAAYxC,OAAS,GAAK2C,EACtC,MAAMC,EAAIJ,EAAYT,KAAK,KACrB1C,EAAMiD,EAAS,GAAK,IAAMM,EAChCxD,EAAeC,EAChB,CACAnB,SAAS2E,KAAKC,UAAY5E,SAAS6E,gBAAgBC,SAAS,CAC3DC,IAAK,EACLC,SAAU,UACX","sources":["src/js/loader.js","src/js/refs.js","src/js/api_variables.js","src/js/genres.js","src/js/popular-movie.js"],"sourcesContent":["export const showHideLoader = (element) => {\n\tif (element.style.display === \"block\") {\n\t\telement.style.display = \"none\";\n\t} else {\n\t\telement.style.display = \"block\";\n\t}\n};\n","import { qs } from \"./tools\";\n\nconst refs = {\n\tloader: qs(\".loader\"),\n\tloaderModal: qs(\".modal__loader\"),\n};\nexport default refs;\n","const API_KEY = \"bd1f74544935b756e43565ea50ae79a5\";\nconst BASE_URL = \"https://api.themoviedb.org/3\";\nconst TREND_URL = `${BASE_URL}/trending/movie/week?api_key=${API_KEY}`;\nconst TREND_DAY_URL = `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`;\nconst SEARCH_URL = `${BASE_URL}/search/movie?api_key=${API_KEY}`;\nconst ID_URL = `${BASE_URL}/movie/`;\nconst BASE_IMG_URL = \"https://image.tmdb.org/t/p/w500\";\nconst VIDEO_URL = `/videos?api_key=${API_KEY}&language=en-US`;\n\nexport {\n\tAPI_KEY,\n\tBASE_URL,\n\tTREND_URL,\n\tSEARCH_URL,\n\tID_URL,\n\tBASE_IMG_URL,\n\tVIDEO_URL,\n\tTREND_DAY_URL,\n};\n","//----Lista kategori zrobiona na sztywno aby sprawdzić działanie, ale trzeba będzie podpiąć skrypt pobierający to z API\n\nconst movieGenres = [\n\t{\n\t\tid: 28,\n\t\tname: \"Action\",\n\t},\n\t{\n\t\tid: 12,\n\t\tname: \"Adventure\",\n\t},\n\t{\n\t\tid: 16,\n\t\tname: \"Animation\",\n\t},\n\t{\n\t\tid: 35,\n\t\tname: \"Comedy\",\n\t},\n\t{\n\t\tid: 80,\n\t\tname: \"Crime\",\n\t},\n\t{\n\t\tid: 99,\n\t\tname: \"Documentary\",\n\t},\n\t{\n\t\tid: 18,\n\t\tname: \"Drama\",\n\t},\n\t{\n\t\tid: 10751,\n\t\tname: \"Family\",\n\t},\n\t{\n\t\tid: 14,\n\t\tname: \"Fantasy\",\n\t},\n\t{\n\t\tid: 36,\n\t\tname: \"History\",\n\t},\n\t{\n\t\tid: 27,\n\t\tname: \"Horror\",\n\t},\n\t{\n\t\tid: 10402,\n\t\tname: \"Music\",\n\t},\n\t{\n\t\tid: 9648,\n\t\tname: \"Mystery\",\n\t},\n\t{\n\t\tid: 10749,\n\t\tname: \"Romance\",\n\t},\n\t{\n\t\tid: 878,\n\t\tname: \"Science Fiction\",\n\t},\n\t{\n\t\tid: 10770,\n\t\tname: \"TV Movie\",\n\t},\n\t{\n\t\tid: 53,\n\t\tname: \"Thriller\",\n\t},\n\t{\n\t\tid: 10752,\n\t\tname: \"War\",\n\t},\n\t{\n\t\tid: 37,\n\t\tname: \"Western\",\n\t},\n];\n\nconst Genres = { movieGenres };\nexport default Genres;\n","import Genres from \"./genres.js\";\nimport {  TREND_URL } from \"./api_variables.js\";\nimport { showHideLoader } from \"./loader.js\";\nimport refs from \"./refs.js\";\nimport { qs } from \"./tools.js\";\n\nconst prev = document.getElementById(\"prev\");\nconst next = document.getElementById(\"next\");\nconst current = document.getElementById(\"current\");\nconst prv = document.getElementById(\"prv\");\nconst prvprv = document.getElementById(\"prvprv\");\nconst nxt = document.getElementById(\"nxt\");\nconst nxtnxt = document.getElementById(\"nxtnxt\");\n\nlet currentPage = 1;\nlet nextPage = 2;\nlet nxtPage = 2;\nlet nxtnxtPage = 3;\nlet prvPage = 1;\nlet prvprvPage = 1;\nlet prevPage = 1;\nlet lastUrl = \"\";\nlet totalPages = 100;\n\nconst moviesGallery = qs(\".movie-section__card\");\nconst getTrendMovies = (url) => {\n\tlastUrl = url;\n\tshowHideLoader(refs.loader);\n\tfetch(url)\n\t\t.then((res) => res.json())\n\n\t\t.then((data) => {\n\t\t\tshowHideLoader(refs.loader);\n\t\t\tif (data.results.length !== 0) {\n\t\t\t\trenderMovies(data.results);\n\t\t\t\tcurrentPage = data.page;\n\t\t\t\tnextPage = currentPage + 1;\n\t\t\t\tnxtPage = currentPage + 1;\n\t\t\t\tnxtnxtPage = currentPage + 2;\n\t\t\t\tprevPage = currentPage - 1;\n\t\t\t\tprvPage = currentPage - 1;\n\t\t\t\tprvprvPage = currentPage - 2;\n\t\t\t\ttotalPages = data.total_pages;\n\n\t\t\t\tcurrent.innerText = currentPage;\n\t\t\t\tnxt.innerText = nxtPage;\n\t\t\t\tnxtnxt.innerText = nxtnxtPage;\n\t\t\t\tprv.innerText = prvPage;\n\t\t\t\tprvprv.innerText = prvprvPage;\n\n\t\t\t\tif (currentPage <= 2) {\n\t\t\t\t\tprvprv.style.display = \"none\";\n\t\t\t\t\tprvprv.innerText = 1;\n\t\t\t\t} else {\n\t\t\t\t\tprvprv.style.display = \"flex\";\n\t\t\t\t}\n\t\t\t\tif (currentPage + 1 >= totalPages) {\n\t\t\t\t\tnxtnxt.style.display = \"none\";\n\t\t\t\t\tnxtnxt.innerText = totalPages;\n\t\t\t\t} else {\n\t\t\t\t\tnxtnxt.style.display = \"flex\";\n\t\t\t\t}\n\n\t\t\t\tif (currentPage <= 1) {\n\t\t\t\t\tprev.classList.add(\"disabled\");\n\t\t\t\t\tnext.classList.remove(\"disabled\");\n\t\t\t\t\tprv.style.display = \"none\";\n\t\t\t\t\tprv.innerText = 1;\n\t\t\t\t} else if (currentPage >= totalPages) {\n\t\t\t\t\tprev.classList.remove(\"disabled\");\n\t\t\t\t\tnext.classList.add(\"disabled\");\n\t\t\t\t\tnxt.style.display = \"none\";\n\t\t\t\t} else {\n\t\t\t\t\tprev.classList.remove(\"disabled\");\n\t\t\t\t\tnext.classList.remove(\"disabled\");\n\t\t\t\t\tprv.style.display = \"flex\";\n\t\t\t\t\tnxt.style.display = \"flex\";\n\t\t\t\t}\n\t\t\t}\n\t\t});\n};\ngetTrendMovies(TREND_URL);\n\nconst renderMovies = (data) => {\n\tmoviesGallery.innerHTML = \"\";\n\n\tdata.forEach((markup) => {\n\t\tconst {\n\t\t\ttitle,\n\t\t\tname,\n\t\t\trelease_date,\n\t\t\tfirst_air_date,\n\t\t\tposter_path,\n\t\t\tgenre_ids,\n\t\t} = markup;\n\t\tconst moviePoster = poster_path\n\t\t\t? `https://image.tmdb.org/t/p/${\n\t\t\t\t\twindow.devicePixelRatio > 1 ? \"w780\" : \"w500\"\n\t\t\t  }/${poster_path}`\n\t\t\t: title;\n\t\tconst movieDate = release_date ? release_date.slice(0, 4) : first_air_date;\n\t\tconst movieName = title ? title : name;\n\t\tlet matchedGenres = genre_ids\n\t\t\t.map((id) => {\n\t\t\t\tconst genre = Genres.movieGenres.find((genre) => genre.id === id);\n\t\t\t\treturn genre ? [`${genre.name}`] : \"\";\n\t\t\t})\n\t\t\t.filter(Boolean);\n\n\t\t// Wyświetlane są gatunki filmowe\n\t\tif (matchedGenres.length > 2) {\n\t\t\tmatchedGenres = matchedGenres.slice(0, 3).join(\", \");\n\t\t} else {\n\t\t\tmatchedGenres = matchedGenres.join(\", \");\n\t\t}\n\t\tconst markupEl = document.createElement(\"li\");\n\t\tmarkupEl.classList.add(\"movie-container__card\");\n\n\t\tmarkupEl.setAttribute(\"data-id\", `${markup.id}`);\n\t\tmarkupEl.innerHTML = `\n\n    <div class=\"poster\"><img class=\"poster__img\" src=\"${moviePoster}\" alt=\"${title} poster\" loading=\"lazy\" /></div>\n    <div class=\"movieInfo\">\n       <p class=\"movieInfo__item movieInfo--title\">${movieName}</p>\n       <p class=\"movieInfo__item\">\n             ${matchedGenres} | ${movieDate}\n      </p>\n    </div>\n    `;\n\t\tmoviesGallery.appendChild(markupEl);\n\t});\n};\n\nprev.addEventListener(\"click\", () => {\n\tif (prevPage > 0) {\n\t\tpageCall(prevPage);\n\t}\n});\nprv.addEventListener(\"click\", () => {\n\tif (prvPage > 0) {\n\t\tpageCall(prvPage);\n\t}\n});\nprvprv.addEventListener(\"click\", () => {\n\tif (prvprvPage > 0) {\n\t\tpageCall(prvprvPage);\n\t}\n});\n\nnext.addEventListener(\"click\", () => {\n\tif (nextPage <= totalPages) {\n\t\tpageCall(nextPage);\n\t}\n});\nnxt.addEventListener(\"click\", () => {\n\tif (nxtPage <= totalPages) {\n\t\tpageCall(nxtPage);\n\t}\n});\nnxtnxt.addEventListener(\"click\", () => {\n\tif (nxtnxtPage <= totalPages) {\n\t\tpageCall(nxtnxtPage);\n\t}\n});\n\nconst pageCall = (page) => {\n\tconst urlSplit = lastUrl.split(\"?\");\n\n\tconst queryParams = urlSplit[1].split(\"&\");\n\n\tconst key = queryParams[queryParams.length - 1].split(\"=\");\n\n\tif (key[0] !== \"page\") {\n\t\tconst url = lastUrl + \"&page=\" + page;\n\t\tgetTrendMovies(url);\n\t} else {\n\t\tkey[1] = page.toString();\n\t\tconst a = key.join(\"=\");\n\t\tqueryParams[queryParams.length - 1] = a;\n\t\tconst b = queryParams.join(\"&\");\n\t\tconst url = urlSplit[0] + \"?\" + b;\n\t\tgetTrendMovies(url);\n\t}\n\tdocument.body.scrollTop = document.documentElement.scrollTo({\n\t\ttop: 0,\n\t\tbehavior: \"smooth\",\n\t});\n};\n"],"names":["$b6e5d84fbce03de8$export$6bf32e92b0ea2607","element","style","display","$b08YZ","parcelRequire","$9b8970e36fb3ad46$export$2e2bcd8739ae039","loader","qs","loaderModal","$dc87fa901d6c280f$export$a9861bd62f48e142","$dc87fa901d6c280f$export$ca6dda5263526f75","$dc87fa901d6c280f$export$3e13cfa1fb75582c","$bc36aade2b53bb55$export$2e2bcd8739ae039","id","name","$b592b0b816cefe67$var$prev","document","getElementById","$b592b0b816cefe67$var$next","$b592b0b816cefe67$var$current","$b592b0b816cefe67$var$prv","$b592b0b816cefe67$var$prvprv","$b592b0b816cefe67$var$nxt","$b592b0b816cefe67$var$nxtnxt","$b592b0b816cefe67$var$currentPage","$b592b0b816cefe67$var$nextPage","$b592b0b816cefe67$var$nxtPage","$b592b0b816cefe67$var$nxtnxtPage","$b592b0b816cefe67$var$prvPage","$b592b0b816cefe67$var$prvprvPage","$b592b0b816cefe67$var$prevPage","$b592b0b816cefe67$var$lastUrl","$b592b0b816cefe67$var$totalPages","$b592b0b816cefe67$var$moviesGallery","$b592b0b816cefe67$var$getTrendMovies","url","$fHyLY","showHideLoader","$dlUZe","default","fetch","then","res","json","data","results","length","$b592b0b816cefe67$var$renderMovies","page","total_pages","innerText","classList","add","remove","$iVSHh","TREND_URL","innerHTML","forEach","markup","title","release_date","first_air_date","poster_path","genre_ids","moviePoster","window","devicePixelRatio","movieDate","slice","movieName","matchedGenres","map","genre","movieGenres","find","filter","Boolean","join","markupEl","createElement","setAttribute","appendChild","addEventListener","$b592b0b816cefe67$var$pageCall","urlSplit","split","queryParams","key","toString","a","b","body","scrollTop","documentElement","scrollTo","top","behavior"],"version":3,"file":"index.05bcd06d.js.map"}