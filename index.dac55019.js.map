{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,0BAGA,MAAMC,EAAWC,EAAAC,QAAMC,GAAG,YACpBC,EAAeH,EAAAC,QAAMC,GAAG,wBAExBE,EAAQC,SAASC,cAAc,gBAC/BC,EAAgBF,SAASC,cAAc,sBACvCE,EAAMR,EAAAC,QAAMC,GAAG,QAErB,SAASO,IACPL,EAAMM,UAAUC,OAAO,YACzB,CACA,MASMC,EAAkBC,MAAMC,IAC5B,IACE,MAAMC,OAXSF,OAAMC,UACAjB,EAAAI,QAAMe,IAC3B,GAAGC,EAAAC,kBAAkBJ,aAAmBG,EAAAE,2BAGnBC,KAMDC,CAAWP,GAEzBQ,EAAYP,EAAMQ,MAClBC,EAAOT,EAAMU,aAAaC,QAAQ,GAClCC,EAAQZ,EAAMa,WACdC,EAAad,EAAMc,WAAWH,QAAQ,GACtCI,EAAgBf,EAAMgB,eACtBC,EAASjB,EAAMiB,OAAOC,KAAIC,GAAMA,EAAGC,OAAMC,KAAK,MAC9CC,EAAWtB,EAAMsB,SAEjBC,EAAS,kCAAkCvB,EAAMwB,cACvD/B,EAAIgC,UAAY,qFAE2BF,+HAEDhB,4UAOQE,6HAETG,2MAKLE,6LAIAC,gLAIAE,+OAOtBK,uSAUhB,CAFE,MAAOI,GACPC,QAAQC,IAAIF,EAAMG,QACpB,GAGFrC,EAAcsC,iBAAiB,SAASC,IACtCA,EAAEC,iBACFtC,GAAA,IAOFL,EAAMyC,iBAAiB,SALvB,SAAsBG,GAChBA,EAAMC,SAAW7C,GACnBK,GAEJ,IAQAyC,OAAOL,iBAAiB,WALxB,SAAqBG,GACD,WAAdA,EAAMG,KAAsC,KAAlBH,EAAMI,SAClC3C,GAEJ,IAEAV,EAAS8C,iBAAiB,SAASC,IACjC,MAAMO,EAAYP,EAAEG,OAAOK,QAAQ,cAEnC,GAAID,EAAW,CACb,MAAMvC,EAAUuC,EAAUE,QAAQxC,MAElCN,IAEAG,EAAgBE,EAClB,KAGFX,EAAa0C,iBAAiB,SAASC,IACrC,MAAMO,EAAYP,EAAEG,OAAOK,QAAQ,0BAEnC,GAAID,EAAW,CACb,MAAMvC,EAAUuC,EAAUE,QAAQC,GAElC/C,IAEAG,EAAgBE,EAClB","sources":["src/js/modal.js"],"sourcesContent":["import axios from 'axios';\nimport tools from './tools';\nimport { BASE_URL, API_KEY } from './API_variables.js';\nconst GALLERYs = tools.qs('.Gallery');\nconst GALLERYtrend = tools.qs('.movie-section__card');\n\nconst modal = document.querySelector('[data-modal]');\nconst closeModalBtn = document.querySelector('[data-modal-close]');\nconst mov = tools.qs('.mov');\n\nfunction toggleModal() {\n  modal.classList.toggle('is-hidden');\n}\nconst fetchMovie = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`,\n  );\n\n  const movie = response.data;\n\n  return movie;\n};\nconst searchMovieById = async movieId => {\n  try {\n    const movie = await fetchMovie(movieId);\n\n    const movieName = movie.title;\n    const vote = movie.vote_average.toFixed(1);\n    const votes = movie.vote_count;\n    const popularity = movie.popularity.toFixed(1);\n    const originalTitle = movie.original_title;\n    const genres = movie.genres.map(ob => ob.name).join(', ');\n    const overview = movie.overview;\n\n    const poster = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n    mov.innerHTML = ` \n\t\t<div class=\"box modal__row\">\n              <img class=\"modal__poster\" src=${poster} alt=\"plakat filmu\" sizes=\"(min-width: 1200px) 370px\" />\n\t          <div>\n\t\t          <div class=\"modal__tittle-film\">${movieName}\n\t\t\t\t  </div>\n\t\t          <div class=\"modal__values\">\n\t\t                 <ul class=\"modal__list\">\n\t\t\t\t\t\t <li class=\"modal__details\"> \n\t\t\t\t\t\t <div class=\"modal__list-left\">Vote&nbsp/&nbspVotes</div>\n\t\t\t\t\t\t <div class=\"modal__list-right\">\n\t\t\t\t\t\t            <span class=\"modal__vote-details\">${vote}</span>\n\t\t\t\t\t\t\t\t\t<span class=\"modal__list-left\">/</span> \n\t\t\t\t\t\t\t\t\t<span class=\"modal__vote-summary\">${votes}</span>\n\t\t\t\t\t\t </div>\n\t\t\t\t\t\t </li> \n\t\t\t\t\t\t <li class=\"modal__details\"> \n\t\t\t\t\t\t <div class=\"modal__list-left\">Popularity</div>\n\t\t\t\t\t\t <div class=\"modal__list-right\">${popularity}</div>\n\t\t\t\t\t\t </li> \n\t\t\t\t\t\t <li class=\"modal__details\"> \n\t\t\t\t\t\t <div class=\"modal__list-left\">Original&nbspTitle</div>\n\t\t\t\t\t\t <div class=\"modal__list-right\">${originalTitle}</div>\n\t\t\t\t\t\t </li> \n\t\t\t\t\t\t <li class=\"modal__details\"> \n\t\t\t\t\t\t <div class=\"modal__list-left\">Genre</div>\n\t\t\t\t\t\t <div class=\"modal__list-right\">${genres}</div>\n\t\t\t\t\t\t </li> \n\t\t\t\t\t\t </ul>\n\t\t                 \n\t\t          </div>\n\t\t          <div class=\"modal__tittle-describe-tittle\">About</div>\n\t\t             <p class=\"modal__tittle-describe\">\n\t\t              ${overview}\n\t\t                  </p>\n\t\t              <div class=\"modal__buttons\">\n\t\t             <button class=\"modal__button-watched\">add to Watched</button>\n\t\t              <button class=\"modal__button-queue\">add to queue</button>\n\t\t                </div>\n\t\t       </div>\n\t\t</div>`;\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\ncloseModalBtn.addEventListener('click', e => {\n  e.preventDefault();\n  toggleModal();\n});\nfunction closeByClick(event) {\n  if (event.target === modal) {\n    toggleModal();\n  }\n}\nmodal.addEventListener('click', closeByClick);\n\nfunction closeByPush(event) {\n  if (event.key === 'Escape' || event.keyCode === 27) {\n    toggleModal();\n  }\n}\nwindow.addEventListener('keydown', closeByPush);\nGALLERYs.addEventListener('click', e => {\n  const movieCard = e.target.closest('.MovieCard');\n\n  if (movieCard) {\n    const movieId = movieCard.dataset.movie;\n\n    toggleModal();\n\n    searchMovieById(movieId);\n  }\n});\n\nGALLERYtrend.addEventListener('click', e => {\n  const movieCard = e.target.closest('.movie-container__card');\n\n  if (movieCard) {\n    const movieId = movieCard.dataset.id;\n\n    toggleModal();\n\n    searchMovieById(movieId);\n  }\n});\n"],"names":["$hGVxz","parcelRequire","$2ea800676e6f7669$var$GALLERYs","$b08YZ","default","qs","$2ea800676e6f7669$var$GALLERYtrend","$2ea800676e6f7669$var$modal","document","querySelector","$2ea800676e6f7669$var$closeModalBtn","$2ea800676e6f7669$var$mov","$2ea800676e6f7669$var$toggleModal","classList","toggle","$2ea800676e6f7669$var$searchMovieById","async","movieId","movie","get","$flMJi","BASE_URL","API_KEY","data","$2ea800676e6f7669$var$fetchMovie","movieName","title","vote","vote_average","toFixed","votes","vote_count","popularity","originalTitle","original_title","genres","map","ob","name","join","overview","poster","poster_path","innerHTML","error","console","log","message","addEventListener","e","preventDefault","event","target","window","key","keyCode","movieCard","closest","dataset","id"],"version":3,"file":"index.dac55019.js.map"}